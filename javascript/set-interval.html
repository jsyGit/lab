<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>set interval</title>
	<script type="text/javascript" src="../Libs/jquery-2.1.4.min.js"></script>

	<script type="text/javascript">

		var ajax_counter = 0;
		var data_1;
		var data_2;

		// 1st call
		$.ajax({
			beforeSend: function() {
				console.log('ajax_counter++', ++ajax_counter);
			},
			method: 'get',
			url: 'http://alpha.yper.net/api/car?brandId=2',
			success: function(data, status) {
				console.log('success');
				data_1 = data;
			},
			complete: function() {
				ajax_counter = --ajax_counter < 0 ? 0 : ajax_counter;
				console.log('ajax_counter--', ajax_counter);
			}


		});

		// 2nd call
		$.ajax({
			beforeSend: function() {
				console.log('ajax_counter++', ++ajax_counter);
			},
			method: 'get',
			url: 'http://alpha.yper.net/api/car',
			success: function(data, status) {
				console.log('success');
				data_2 = data;
			},
			complete: function() {
				ajax_counter = --ajax_counter < 0 ? 0 : ajax_counter;
				console.log('ajax_counter--', ajax_counter);
			}

		});

		// before ajax call is done
		console.log(data_1);
		console.log(data_2);

		var interval_ajax = setInterval(function() {

			if(ajax_counter === 0){
				clearInterval(interval_ajax);
				console.log('all of ajax calls are done');

				// when ajax call is complete
				console.log(data_1);
				console.log(data_2);
			}

		}, 100);

	</script>
</head>
<body>

</body>
</html>